# ============================================================================
# Forge CLI — Environment Variables
# ============================================================================
# Copy this file to .env and fill in your values, or export them in your shell.
# Forge CLI reads environment variables directly (no .env file auto-loading).
#
# Priority: CLI flags > environment variables > forge.config.json > defaults
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED — Azure OpenAI
# ----------------------------------------------------------------------------

# Your Azure OpenAI service endpoint (e.g. https://my-resource.openai.azure.com)
AZURE_OPENAI_ENDPOINT=

# API key or JWT token for authentication
# API keys use the "api-key" header; JWT tokens (contain dots) use "Authorization: Bearer"
AZURE_OPENAI_API_KEY=

# API version — use "2024-02-15-preview" for Chat Completions, or "2025-*" for Responses API
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ----------------------------------------------------------------------------
# REQUIRED — Model Deployments
# ----------------------------------------------------------------------------

# Azure OpenAI deployment name for the builder agent (generates patches)
BUILDER_DEPLOYMENT=

# Azure OpenAI deployment name for the judge agent (selects best patch)
JUDGE_DEPLOYMENT=

# ----------------------------------------------------------------------------
# OPTIONAL — Additional Deployments
# ----------------------------------------------------------------------------

# Reviewer deployment (defaults to JUDGE_DEPLOYMENT if not set)
# REVIEWER_DEPLOYMENT=

# Per-role model overrides (J04 multi-model strategy)
# FORGE_BUILDER_DEPLOYMENT=
# FORGE_JUDGE_DEPLOYMENT=
# FORGE_REVIEWER_DEPLOYMENT=

# ----------------------------------------------------------------------------
# OPTIONAL — Embeddings (semantic code search)
# ----------------------------------------------------------------------------

# Embedding model deployment name (default: text-embedding-3-small)
# FORGE_EMBEDDING_MODEL=text-embedding-3-small

# Separate endpoint for embeddings (defaults to AZURE_OPENAI_ENDPOINT)
# FORGE_EMBEDDING_ENDPOINT=

# Separate API key for embeddings (defaults to AZURE_OPENAI_API_KEY)
# FORGE_EMBEDDING_API_KEY=

# ----------------------------------------------------------------------------
# OPTIONAL — Redis (cross-project memory)
# ----------------------------------------------------------------------------

# Azure Redis connection string for persistent memory backend
# Format: hostname:port,password=secret,ssl=True,abortConnect=False
# REDIS_CONNECTION_STRING=

# Memory backend: "local" (JSON files) or "redis"
# FORGE_MEMORY_BACKEND=local

# ----------------------------------------------------------------------------
# OPTIONAL — Budget & Limits
# ----------------------------------------------------------------------------

# Max build/test/fix loop iterations (default: 8)
# FORGE_MAX_LOOPS=8

# Max iterations per agent invocation (default: 20)
# FORGE_MAX_AGENT_ITERATIONS=20

# Max file search calls per agent (default: 6)
# FORGE_MAX_SEARCHES=6

# Max file open calls per agent (default: 5)
# FORGE_MAX_OPENS=5

# Total token budget across all iterations (default: 200000)
# FORGE_MAX_TOTAL_TOKENS=200000

# Token budget per iteration (default: 40000)
# FORGE_MAX_ITERATION_TOKENS=40000

# Cost limit in GBP (default: 25.00)
# FORGE_MAX_COST_GBP=25.00

# Cost per 1K prompt tokens in GBP (default: 0.002)
# FORGE_PROMPT_COST_PER_1K=0.002

# Cost per 1K completion tokens in GBP (default: 0.006)
# FORGE_COMPLETION_COST_PER_1K=0.006

# ----------------------------------------------------------------------------
# OPTIONAL — Modes & Debug
# ----------------------------------------------------------------------------

# Enable debug logging to tmp-logs/ (default: false)
# FORGE_DEBUG_MODE=false

# Pause after judge step for user approval (default: false)
# FORGE_INTERACTIVE_MODE=false

# Run pipeline without applying patches or committing (default: false)
# FORGE_DRY_RUN=false

# ----------------------------------------------------------------------------
# OPTIONAL — GitHub Integration (CI mode)
# ----------------------------------------------------------------------------

# GitHub personal access token for PR comments in CI mode
# GITHUB_TOKEN=
